<!DOCTYPE html>
<html lang="en-US">
<head>
        <meta property="og:url"                content="lingayen.github.io" />
        <meta property="og:type"               content="website" />
        <meta property="og:title"              content="Distrito ng Lingayen Pangasinan" />
        <meta property="og:description"        content="Bilang ng mga Lokal" />
        <meta property="og:image"              content="img/Untitled.jpg" />
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="icon" href="img/pngaaa.com-4128608.png">
<link rel="profile" href="http://gmpg.org/xfn/11">
<title>Region 1 | Lingayen, Pangasinan </title>
<meta name="robots" content="noindex, nofollow">
<link rel="dns-prefetch" href="//s.w.org">

<script type="text/javascript" id="ajax-script-js-extra">
/* <![CDATA[ */
var counter = {"ajax_url":"rey5209.github.io"};
/* ]]> */
</script>

<!-- Fontawesome -->
<link href="fontawesome/css/all.css" rel="stylesheet"  >
<!-- BOOTSTRAP --> 
<link href="css/bootstrap.min.css" rel="stylesheet"  >
<script src="js/bootstrap.bundle.min.js"  ></script>
<style>
  a:link { text-decoration: none;  
  }
  .bd-highlight{
    font-size: 27px;
  }
  .link-dark.post-title{
    
    font-size: 20px;
    margin-left: 15px;
  }
  
  .link-dark.view-counter{
    
    font-size: 20px;
    margin-right: 15px;
  }
  
  .txt-center{
     text-align: center;
  }

</style>
</head>
   <!-- Global site tag (gtag.js) - Google Analytics -->

    
<body class="home page-template-default page page-id-10">

<header id="site-header" class="site-header  " role="banner"> 
  <div class="container-lg my-md-5  site-branding ">
    
    <div class="row">
      <div class="col-xl-8 col-lg-8 col-md-8 col-sm-8  mx-auto">

        <h1 class="site-title  ">
          <a href="#" class="link-dark  " title="Home" rel="home">
            <p class="txt-center page-main-tittle">Region 1 | Lingayen, Pangasinan | JANUARY 27-29 , 2022			</p></a>
        </h1>
        <p class="site-description">
                </p>
      </div>
      
      <div class="col-xl-8 col-lg-8 col-md-8 col-sm-8  mx-auto"> 
          <div  class="d-flex justify-content-center align-items-center"  >
            <div class="p-2 link-dark view-counter btn-prev"><a href="#"><i class="fas fa-chevron-left"></i> Pevious</a></div> 
            <div class="p-2 link-dark view-counter page-tittle">TITTLE</div>
            <div class="p-2 link-dark view-counter btn-next"><a href="#">Next <i class="fas fa-chevron-right"></i></a></div>
          </div>   
      </div>
  </div>
  </div>
 
</header>

<main class="container-lg my-md-5 site-main post-10 page type-page status-publish hentry" role="main">
   
		<div class="page-content row">
		
    <div class="lokals-wrap col-xl-4 col-lg-4 col-md-4 col-sm-6  mx-auto append_pages"> 
      <!--  PAGES HERE-->
      
      <!-- END OF PAGE 1--> 

    </div>

    
		  <div class="post-tags">
			</div>
	</div>

	<section id="comments" class="comments-area">

	


</section><!-- .comments-area -->
</main>

	<footer id="site-footer" class="site-footer" role="contentinfo">
	</footer> 

  <script src="js/jquery-3.6.0.js" ></script> 
<script src="js/pagination.js"></script>
<!-- <script type="text/javascript" src="js/today.json"></script> -->
<script>


$(document).ready(function() {

  


    var current_page = 1;
    var max_page = 0;
    var page_main_tittles = [];
    var page_sub_tittles = [];

    // updatePaging(current_page,max_page,page_main_tittles,page_sub_tittles)

    $('.btn-next').click(function() { 
        current_page ++;
        updatePaging(current_page,max_page,page_main_tittles,page_sub_tittles)
    })
    $('.btn-prev').click(function() { 
        current_page --;
        updatePaging(current_page,max_page,page_main_tittles,page_sub_tittles)
    })


  var unique = + new Date();
  // console.log(unique);

  fetch("js/views.json?ver="+unique)
    .then(response => {
      return response.json();
    })
    .then(function(data) {  
      var count_page=  1;
      // console.log(data.today);

      data.jsonData.forEach(setTables);
      // data.yesterday.forEach(setViewsYesteday); 

      function setPages(item, index) { 

      }

      function setTables(item, index) { 

        // Pagination setup
        max_page++;
        page_main_tittles.push(item.tittle);
        page_sub_tittles.push(item.subTittle);

        // Setup Table content for views per page

        var total = 0;
        // var tittle = item.tittle;
        $('.append_pages').append(""+ 
        '<table name="'+item.tittle+'" class="table table-striped table-hover table-paging table-page-'+count_page+'">'+
        '    <thead>'+
        '      <tr > '+
        '        <th  class="lokals-item d-flex justify-content-between align-items-center"> '+
        '          <div class="p-2 bd-highlight  ">Lokal</div> '+
        '          <div class="p-2 bd-highlight   ">Views</div>'+
        '        </th> '+
        '      </tr>'+
        '    </thead>'+
        '    <tbody class="append_table-'+count_page+'">  '+
        '  </tbody>'+
        '</table>'+
        "")
        
 
        var page = item.page;
        item.viewData.forEach(setLokals);
        function setLokals(item, index) { 
          total += item.views; 

          // Setup Lokal content and views for each page
          $('.append_table-'+count_page).append(""+
          '<tr> '+
          '    <td > '+
          '        <a href="'+page+'?pageId='+count_page+'&lokal='+item.lokal+'" class="lokals-item d-flex justify-content-between align-items-center" id="lokal_'+item.lokal+'">'+
          '          <div class="p-2 link-dark post-title">'+item.lokal+'</div> '+
          '          <div class="p-2 link-dark view-counter '+item.lokal+'_view">'+item.views+'</div>'+
          '        </a>'+
          '    </td>  '+
          '  </tr>  '+
          "")
        }

        // Just for empty space
        $('.append_table-'+count_page).append(""+
        '<tr> '+ 
        '</tr>'+
          "")

          // Get total at the end of every page
        $('.append_table-'+count_page).append(""+
        '<tr> '+
        '  <td >        '+
        '    <div class="lokals-item lokals-footer d-flex justify-content-between align-items-center">'+
        '      <h3 class="p-2 link-dark post-title text-danger">Total</h3> '+
        '      <h3 class="p-2 link-dark view-counter text-danger total_view">'+total+'</h3>'+
        '    </div> '+
        '  </td>  '+
        '</tr>'+
          "")

        count_page++;
      }
         
      updatePaging(current_page,max_page,page_main_tittles,page_sub_tittles)

    }).catch(function(error) {
            console.log(error);
    });
    
    function updatePaging(current_page,max_page,page_main_tittles,page_sub_tittles){
        console.log(page_sub_tittles[0])
        $('.table-paging').hide()
        
        $('.table-page-'+current_page).show()

        $('.page-main-tittle').text(page_main_tittles[current_page-1])
        $('.page-tittle').text(''+page_sub_tittles[current_page-1])
        
        
        if(current_page <= 1){
            $('.btn-prev').hide()
        }else{ 
            $('.btn-prev').show()
        }

        if(current_page == max_page){
            $('.btn-next').hide()
        }else{ 
            $('.btn-next').show()
        }
    }
    
}) 
</script>


</body></html>
